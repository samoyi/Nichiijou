<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<p>This page must be in domain of www.sendDomain.com<p>
<iframe id="receiveWin" src="http://www.receiveDomain.com/receive.html"></iframe>
</body>
<script>
"use strict";

	const RECEIVE_DOMAIN = "http://www.receiveDomain.com"; // use default port


	let receiveWin = document.querySelector("#receiveWin").contentWindow;
	// you can also post message to a new window instead of iframe
	//let receiveWin = window.open("http://www.receiveDomain.com/test/receive.html"),


	document.addEventListener("click", postData);
	function postData(){
		let stamp = Math.random(),
			data = {
				"name": 33,
				"age": "22",
				"stamp": stamp
			};
		receiveWin.postMessage(data, RECEIVE_DOMAIN);
		console.log( stamp );
	}

	// receive reply, if needed
	window.addEventListener("message", fnResponse);
	function fnResponse(ev){
		alert( ev.data );
	}

</script>
</html>
